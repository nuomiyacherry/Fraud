{"remainingRequest":"D:\\工作项目\\部反诈\\node_modules\\babel-loader\\lib\\index.js!D:\\工作项目\\部反诈\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\工作项目\\部反诈\\src\\utils\\map3d\\core\\texture.js","dependencies":[{"path":"D:\\工作项目\\部反诈\\src\\utils\\map3d\\core\\texture.js","mtime":1598758375242},{"path":"D:\\工作项目\\部反诈\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\工作项目\\部反诈\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\工作项目\\部反诈\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\\\u5DE5\\u4F5C\\u9879\\u76EE\\\\\\u90E8\\u53CD\\u8BC8\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport { loaderPromisify } from '../tool/util';\nimport { TextureLoader, Texture } from 'three';\nvar textures = [],\n    loader = loaderPromisify(new TextureLoader());\nexport function getTexture(_x) {\n  return _getTexture.apply(this, arguments);\n}\n\nfunction _getTexture() {\n  _getTexture = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(symbol) {\n    var src, texture;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!symbol.startsWith('image://')) {\n              _context.next = 10;\n              break;\n            }\n\n            src = symbol.slice(8);\n            texture = textures.find(function (t) {\n              return t.name === src;\n            });\n\n            if (texture) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 6;\n            return loader(src);\n\n          case 6:\n            texture = _context.sent;\n            texture.name = src;\n            textures.push(texture);\n\n          case 9:\n            return _context.abrupt(\"return\", texture);\n\n          case 10:\n            return _context.abrupt(\"return\", symbol);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getTexture.apply(this, arguments);\n}",{"version":3,"sources":["D:\\工作项目\\部反诈\\src\\utils\\map3d\\core\\texture.js"],"names":["loaderPromisify","TextureLoader","Texture","textures","loader","getTexture","symbol","startsWith","src","slice","texture","find","t","name","push"],"mappings":";;;;;AAAA,SAAQA,eAAR,QAA8B,cAA9B;AACA,SAAQC,aAAR,EAAuBC,OAAvB,QAAqC,OAArC;AACA,IAAMC,QAAQ,GAAG,EAAjB;AAAA,IACEC,MAAM,GAAGJ,eAAe,CAAC,IAAIC,aAAJ,EAAD,CAD1B;AAGA,gBAAsBI,UAAtB;AAAA;AAAA;;;;;0BAAO,iBAA0BC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACDA,MAAM,CAACC,UAAP,CAAkB,UAAlB,CADC;AAAA;AAAA;AAAA;;AAEGC,YAAAA,GAFH,GAESF,MAAM,CAACG,KAAP,CAAa,CAAb,CAFT;AAGCC,YAAAA,OAHD,GAGWP,QAAQ,CAACQ,IAAT,CAAc,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACC,IAAF,KAAWL,GAAf;AAAA,aAAf,CAHX;;AAAA,gBAIEE,OAJF;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAKeN,MAAM,CAACI,GAAD,CALrB;;AAAA;AAKDE,YAAAA,OALC;AAMDA,YAAAA,OAAO,CAACG,IAAR,GAAeL,GAAf;AACAL,YAAAA,QAAQ,CAACW,IAAT,CAAcJ,OAAd;;AAPC;AAAA,6CASIA,OATJ;;AAAA;AAAA,6CAWEJ,MAXF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import {loaderPromisify} from '../tool/util'\nimport {TextureLoader, Texture} from 'three'\nconst textures = [],\n  loader = loaderPromisify(new TextureLoader())\n\nexport async function getTexture(symbol) {\n  if (symbol.startsWith('image://')) {\n    const src = symbol.slice(8)\n    let texture = textures.find(t => t.name === src)\n    if (!texture) {\n      texture = await loader(src)\n      texture.name = src\n      textures.push(texture)\n    }\n    return texture\n  }\n  return symbol\n}\n"]}]}