{"remainingRequest":"D:\\工作项目\\部反诈\\node_modules\\babel-loader\\lib\\index.js!D:\\工作项目\\部反诈\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\工作项目\\部反诈\\src\\api\\common.js","dependencies":[{"path":"D:\\工作项目\\部反诈\\src\\api\\common.js","mtime":1598758386976},{"path":"D:\\工作项目\\部反诈\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\工作项目\\部反诈\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\工作项目\\部反诈\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\\\u5DE5\\u4F5C\\u9879\\u76EE\\\\\\u90E8\\u53CD\\u8BC8\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport fetch from 'utils/fetch';\nvar baseurl = process.env.NODE_ENV === 'production' ? process.env.VUE_APP_RATIO === 'ratio41' ? '/package2' : '/package1' : '';\nvar json = {};\nexport function getMapJson(_x) {\n  return _getMapJson.apply(this, arguments);\n}\n\nfunction _getMapJson() {\n  _getMapJson = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(name) {\n    var prefix,\n        path,\n        _args = arguments;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            prefix = _args.length > 1 && _args[1] !== undefined ? _args[1] : '/map';\n            path = \"\".concat(baseurl).concat(prefix, \"/\").concat(name);\n\n            if (json[path]) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 5;\n            return axios.get(\"\".concat(path, \".json\")).then(function (response) {\n              return response.data;\n            }).catch(function (err) {\n              return err;\n            });\n\n          case 5:\n            json[path] = _context.sent;\n\n          case 6:\n            return _context.abrupt(\"return\", json[path]);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getMapJson.apply(this, arguments);\n}\n\nexport function getCityMapJson(_x2, _x3) {\n  return _getCityMapJson.apply(this, arguments);\n} // 获取菜单\n\nfunction _getCityMapJson() {\n  _getCityMapJson = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2(prov, city) {\n    var data;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return getMapJson(city, \"/map/\".concat(prov));\n\n          case 2:\n            data = _context2.sent;\n            return _context2.abrupt(\"return\", data);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getCityMapJson.apply(this, arguments);\n}\n\nexport function initPro() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return fetch({\n    url: '/init/initPro',\n    method: 'post',\n    data: data\n  });\n} // 获取导航页按钮列表\n\nexport function initBtnList() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return fetch({\n    url: '/init/btn/list',\n    method: 'post',\n    data: data\n  });\n}",{"version":3,"sources":["D:\\工作项目\\部反诈\\src\\api\\common.js"],"names":["axios","fetch","baseurl","process","env","NODE_ENV","VUE_APP_RATIO","json","getMapJson","name","prefix","path","get","then","response","data","catch","err","getCityMapJson","prov","city","initPro","url","method","initBtnList"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,IAAMC,OAAO,GACXC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACIF,OAAO,CAACC,GAAR,CAAYE,aAAZ,KAA8B,SAA9B,GACE,WADF,GAEE,WAHN,GAII,EALN;AAMA,IAAMC,IAAI,GAAG,EAAb;AAEA,gBAAsBC,UAAtB;AAAA;AAAA;;;;;0BAAO,iBAA0BC,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgCC,YAAAA,MAAhC,2DAAyC,MAAzC;AACCC,YAAAA,IADD,aACWT,OADX,SACqBQ,MADrB,cAC+BD,IAD/B;;AAAA,gBAEAF,IAAI,CAACI,IAAD,CAFJ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAGgBX,KAAK,CACrBY,GADgB,WACTD,IADS,YAEhBE,IAFgB,CAEX,UAAAC,QAAQ;AAAA,qBAAIA,QAAQ,CAACC,IAAb;AAAA,aAFG,EAGhBC,KAHgB,CAGV,UAAAC,GAAG;AAAA,qBAAIA,GAAJ;AAAA,aAHO,CAHhB;;AAAA;AAGHV,YAAAA,IAAI,CAACI,IAAD,CAHD;;AAAA;AAAA,6CAQEJ,IAAI,CAACI,IAAD,CARN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAWP,gBAAsBO,cAAtB;AAAA;AAAA,C,CAKA;;;;;0BALO,kBAA8BC,IAA9B,EAAoCC,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACcZ,UAAU,CAACY,IAAD,iBAAeD,IAAf,EADxB;;AAAA;AACCJ,YAAAA,IADD;AAAA,8CAEEA,IAFF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAMP,OAAO,SAASM,OAAT,GAA6B;AAAA,MAAXN,IAAW,uEAAJ,EAAI;AAClC,SAAOd,KAAK,CAAC;AACXqB,IAAAA,GAAG,EAAE,eADM;AAEXC,IAAAA,MAAM,EAAE,MAFG;AAGXR,IAAAA,IAAI,EAAJA;AAHW,GAAD,CAAZ;AAKD,C,CAED;;AACA,OAAO,SAASS,WAAT,GAAiC;AAAA,MAAXT,IAAW,uEAAJ,EAAI;AACtC,SAAOd,KAAK,CAAC;AACXqB,IAAAA,GAAG,EAAE,gBADM;AAEXC,IAAAA,MAAM,EAAE,MAFG;AAGXR,IAAAA,IAAI,EAAJA;AAHW,GAAD,CAAZ;AAKD","sourcesContent":["import axios from 'axios'\r\nimport fetch from 'utils/fetch'\r\nconst baseurl =\r\n  process.env.NODE_ENV === 'production'\r\n    ? process.env.VUE_APP_RATIO === 'ratio41'\r\n      ? '/package2'\r\n      : '/package1'\r\n    : ''\r\nconst json = {}\r\n\r\nexport async function getMapJson(name, prefix = '/map') {\r\n  const path = `${baseurl}${prefix}/${name}`\r\n  if (!json[path]) {\r\n    json[path] = await axios\r\n      .get(`${path}.json`)\r\n      .then(response => response.data)\r\n      .catch(err => err)\r\n  }\r\n  return json[path]\r\n}\r\n\r\nexport async function getCityMapJson(prov, city) {\r\n  const data = await getMapJson(city, `/map/${prov}`)\r\n  return data\r\n}\r\n\r\n// 获取菜单\r\nexport function initPro (data = {}) {\r\n  return fetch({\r\n    url: '/init/initPro',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取导航页按钮列表\r\nexport function initBtnList (data = {}) {\r\n  return fetch({\r\n    url: '/init/btn/list',\r\n    method: 'post',\r\n    data\r\n  })\r\n}"]}]}