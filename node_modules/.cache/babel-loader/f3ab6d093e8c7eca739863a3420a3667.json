{"remainingRequest":"D:\\工作项目\\部反诈\\node_modules\\babel-loader\\lib\\index.js!D:\\工作项目\\部反诈\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\工作项目\\部反诈\\src\\utils\\map3d\\libs\\dom.js","dependencies":[{"path":"D:\\工作项目\\部反诈\\src\\utils\\map3d\\libs\\dom.js","mtime":1598758375256},{"path":"D:\\工作项目\\部反诈\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\工作项目\\部反诈\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\工作项目\\部反诈\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _parseInt from \"D:\\\\\\u5DE5\\u4F5C\\u9879\\u76EE\\\\\\u90E8\\u53CD\\u8BC8\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-int\";\nimport _Object$keys from \"D:\\\\\\u5DE5\\u4F5C\\u9879\\u76EE\\\\\\u90E8\\u53CD\\u8BC8\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _typeof from \"D:\\\\\\u5DE5\\u4F5C\\u9879\\u76EE\\\\\\u90E8\\u53CD\\u8BC8\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/typeof\";\nimport _parseFloat from \"D:\\\\\\u5DE5\\u4F5C\\u9879\\u76EE\\\\\\u90E8\\u53CD\\u8BC8\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-float\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _Promise from \"D:\\\\\\u5DE5\\u4F5C\\u9879\\u76EE\\\\\\u90E8\\u53CD\\u8BC8\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/promise\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\n\n/* eslint-disable */\nvar isServer = false;\nvar ieVersion = isServer ? 0 : Number(document.documentMode);\nvar SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\nvar MOZ_HACK_REGEXP = /^moz([A-Z])/;\n/* istanbul ignore next */\n\nvar camelCase = function camelCase(name) {\n  return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\n    return offset ? letter.toUpperCase() : letter;\n  }).replace(MOZ_HACK_REGEXP, 'Moz$1');\n}; // 剔除空格\n\n\nvar trim = function trim(string) {\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '');\n}; // 使dom绑定事件 兼容主流浏览器\n\n\nexport var on = function () {\n  if (!isServer && document.addEventListener) {\n    return function (element, event, handler) {\n      if (element && event && handler) {\n        element.addEventListener(event, handler, false);\n      }\n    };\n  } else {\n    return function (element, event, handler) {\n      if (element && event && handler) {\n        element.attachEvent('on' + event, handler);\n      }\n    };\n  }\n}(); // 使dom删除事件 兼容主流浏览器\n\n/* istanbul ignore next */\n\nexport var off = function () {\n  if (!isServer && document.removeEventListener) {\n    return function (element, event, handler) {\n      if (element && event) {\n        element.removeEventListener(event, handler, false);\n      }\n    };\n  } else {\n    return function (element, event, handler) {\n      if (element && event) {\n        element.detachEvent('on' + event, handler);\n      }\n    };\n  }\n}();\nexport function prevent(e) {\n  var oEvent = e || window.event;\n\n  if (oEvent.preventDefault) {\n    oEvent.preventDefault();\n  }\n\n  return oEvent;\n} // 使鼠标滚轮事件 兼容主流浏览器\n\nexport function wheelEvent(el, callback) {\n  if (window.navigator.userAgent.toLowerCase().indexOf('firefox') !== -1) {\n    on(el, 'DOMMouseScroll', wheel);\n  } else {\n    on(el, 'mousewheel', wheel);\n  }\n\n  function wheel(ev) {\n    var oEvent = prevent(ev);\n    var delta = oEvent.detail ? oEvent.detail > 0 : oEvent.wheelDelta < 0;\n    callback && callback.call(this, delta, oEvent);\n    return false;\n  }\n}\n/**\n * 使requestAnimationFrame 兼容主流浏览器\n */\n\nexport var requestAnimationFrame = function () {\n  if (!window.requestAnimationFrame) {\n    return window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      return window.setTimeout(callback, 1000 / 60);\n    };\n  }\n\n  return window.requestAnimationFrame;\n}(); // 返回顶部\n\nexport function scrollTop(el) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var to = arguments.length > 2 ? arguments[2] : undefined;\n  var duration = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 500;\n  var difference = Math.abs(from - to);\n  var step = Math.ceil(difference / duration * 50);\n  scroll(el, from, to, step);\n}\n/**\n * [scroll 滚动条从start滚动到end]\n * @param  {[type]} el    [要滚动元素]\n * @param  {[type]} start [开始位置]\n * @param  {[type]} end   [结束位置]\n * @param  {[type]} step  [滚动的步长]\n * @return {[type]}       [description]\n */\n\nexport function scroll(el, start, end) {\n  var step = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 50;\n  if (start === end) return; // 从上往下滚\n\n  var d = start + step > end ? end : start + step; // 从下往上滚\n\n  if (start > end) {\n    d = start - step < end ? end : start - step;\n  }\n\n  if (el === window) {\n    window.scrollTo(d, d);\n  } else {\n    el.scrollTop = d;\n  }\n\n  requestAnimationFrame(function () {\n    return scroll(el, d, end, step);\n  });\n}\n/**\n * [getImageNaturalSize 获取图片的真实高度]\n * @param  {[type]} img [图片dom元素]\n * @return {[type]}     [description]\n */\n\nexport function getImageNaturalSize(img) {\n  return new _Promise(function (resolve, reject) {\n    if (img.naturalWidth) {\n      resolve({\n        width: img.naturalWidth,\n        height: img.naturalHeight\n      });\n    } else {\n      var image = new Image();\n      image.src = img.src;\n      on(image, 'load', function (_) {\n        resolve({\n          width: image.width,\n          height: image.height\n        });\n      });\n    }\n  });\n} // 绑定dom事件，只执行一次\n\nexport var once = function once(el, event, fn) {\n  var listener = function listener() {\n    if (fn) {\n      fn.apply(this, arguments);\n    }\n\n    off(el, event, listener);\n  };\n\n  on(el, event, listener);\n};\n/**\n * el是包含cls\n * @param {dom} el dom元素\n * @param {*} cls class名\n * @return {boolean}\n */\n\nexport function hasClass(el, cls) {\n  if (!el || !cls) return false;\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.');\n\n  if (el.classList) {\n    return el.classList.contains(cls);\n  } else {\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1;\n  }\n}\n/**\n * el元素添加class\n * @param {dom} el dom元素\n * @param {*} cls class名\n */\n\nexport function addClass(el, cls) {\n  if (!el) return;\n  var curClass = el.className;\n  var classes = (cls || '').split(' ');\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[i];\n    if (!clsName) continue;\n\n    if (el.classList) {\n      el.classList.add(clsName);\n    } else if (!hasClass(el, clsName)) {\n      curClass += ' ' + clsName;\n    }\n  }\n\n  if (!el.classList) {\n    el.className = curClass;\n  }\n}\n/* istanbul ignore next */\n\nexport function removeClass(el, cls) {\n  if (!el || !cls) return;\n  var classes = cls.split(' ');\n  var curClass = ' ' + el.className + ' ';\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[i];\n    if (!clsName) continue;\n\n    if (el.classList) {\n      el.classList.remove(clsName);\n    } else if (hasClass(el, clsName)) {\n      curClass = curClass.replace(' ' + clsName + ' ', ' ');\n    }\n  }\n\n  if (!el.classList) {\n    el.className = trim(curClass);\n  }\n}\n/**\n * el dom 元素\n * attr: translateX translateY rsx rsy scaleX scaleY\n */\n\nexport function getTransform(el, attr) {\n  var attrs = ['scaleX', 'rsx', 'rsy', 'scaleY', 'translateX', 'translateY']; // const transform = el.style.transform.replace(/\\s/g, '')\n\n  var transform = getStyle(el, 'transform').replace(/\\s/g, '');\n  var matrix = transform.substring(7, transform.indexOf(')')).split(','); // console.log(transform, matrix)\n\n  var has = false;\n  var value = 0;\n  attrs.forEach(function (item, index) {\n    if (!has) {\n      if (item === attr) {\n        has = true;\n        value = _parseFloat(matrix[index]) || 0;\n      }\n    }\n  });\n  return value;\n}\n/**\n * 获取css样式\n * @param {dom} element dom元素\n * @param {*} styleName css属性，驼峰命名\n * @return {string|null} 属性值\n */\n\nexport var getStyle = ieVersion < 9 ? function (element, styleName) {\n  if (isServer) return;\n  if (!element || !styleName) return null;\n  styleName = camelCase(styleName);\n\n  if (styleName === 'float') {\n    styleName = 'styleFloat';\n  }\n\n  try {\n    switch (styleName) {\n      case 'opacity':\n        try {\n          return element.filters.item('alpha').opacity / 100;\n        } catch (e) {\n          return 1.0;\n        }\n\n      default:\n        return element.style[styleName] || element.currentStyle ? element.currentStyle[styleName] : null;\n    }\n  } catch (e) {\n    return element.style[styleName];\n  }\n} : function (element, styleName) {\n  if (isServer) return;\n  if (!element || !styleName) return null;\n  styleName = camelCase(styleName);\n\n  if (styleName === 'float') {\n    styleName = 'cssFloat';\n  }\n\n  try {\n    var computed = document.defaultView.getComputedStyle(element, '');\n    return element.style[styleName] || computed ? computed[styleName] : null;\n  } catch (e) {\n    return element.style[styleName];\n  }\n};\n/**\n * 设置css样式\n * @param {dom} element dom元素\n * @param {string} styleName css属性，驼峰命名\n * @param {*} value css属性的值\n * @return {void}\n */\n\nexport function setStyle(element, styleName, value) {\n  if (!element || !styleName) return;\n\n  if (_typeof(styleName) === 'object') {\n    for (var prop in styleName) {\n      if (styleName.hasOwnProperty(prop)) {\n        setStyle(element, prop, styleName[prop]);\n      }\n    }\n  } else {\n    styleName = camelCase(styleName);\n\n    if (styleName === 'opacity' && ieVersion < 9) {\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')';\n    } else {\n      element.style[styleName] = value;\n    }\n  }\n}\n/**\n * 设置css样式\n * @param {dom} element dom元素\n * @param {styles} 样式对象，attr为驼峰命名\n */\n\nexport function setStyles(element, styles) {\n  _Object$keys(styles).forEach(function (attr) {\n    setStyle(element, attr, styles[attr]);\n  });\n}\n/**\n * 获取dom元素data属性的数据，如果有val,则设置data-[name]的属性为val\n * @param {dom} el dom元素\n * @param {string} name data-[name]\n * @param {string|void} val 设置data-[name] 的值\n * @return {string|void}\n */\n\nexport function getData(el, name, val) {\n  var prefix = 'data-';\n\n  if (val) {\n    return el.setAttribute(prefix + name, val);\n  }\n\n  return el.getAttribute(prefix + name);\n}\n/**\n * 获取元素距离父元素上、下、左、右的距离\n * @param {dom} el dom元素\n * @return {object} {top, left, bottom, right}\n */\n\nexport function getRect(el) {\n  if (el instanceof window.SVGElement) {\n    var rect = el.getBoundingClientRect();\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  } else {\n    return {\n      top: el.offsetTop,\n      left: el.offsetLeft,\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    };\n  }\n}\nvar elementStyle = document.createElement('div').style;\n\nvar vendor = function (_) {\n  var transformNames = {\n    webkit: 'webkitTransform',\n    Moz: 'MozTransform',\n    O: 'OTransform',\n    ms: 'msTransform',\n    standard: 'transform'\n  };\n\n  for (var k in transformNames) {\n    if (elementStyle[transformNames[k]] !== undefined) {\n      return k;\n    }\n  }\n\n  return false;\n}();\n\nexport function prefixStyle(style) {\n  if (vendor === false) return false;\n  if (vendor === 'standard') return style;\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1);\n}\nexport function getElementLeft(element) {\n  if (element.getBoundingClientRect) {\n    return element.getBoundingClientRect().left;\n  }\n\n  var actualLeft = element.offsetLeft;\n  var current = element.offsetParent;\n\n  while (current !== null) {\n    actualLeft += current.offsetLeft;\n    current = current.offsetParent;\n  }\n\n  return actualLeft;\n}\nexport function getElementTop(element) {\n  if (element.getBoundingClientRect) {\n    return element.getBoundingClientRect().top;\n  }\n\n  var actualTop = element.offsetTop;\n  var current = element.offsetParent;\n\n  while (current !== null) {\n    actualTop += current.offsetTop;\n    current = current.offsetParent;\n  }\n\n  return actualTop;\n}\n/**\n * 多行超出元素高度显示 ..., 且添加title显示全部内容\n * @param {dom} el 处理的dom元素\n * @param {number|void} row 最多行数\n */\n\nexport function overflowEllipsis(el, row) {\n  var width = el.clientWidth;\n  var height = el.clientHeight;\n\n  var lineHeight = _parseInt(getStyle(el, 'lineHeight'));\n\n  var fontSize = _parseInt(getStyle(el, 'fontSize'));\n\n  var data = el.getAttribute('title');\n\n  if (!data) {\n    data = el.innerText;\n    el.setAttribute('title', data);\n  }\n\n  row = row || height / lineHeight;\n  var maxLength = ~~(width * row / fontSize);\n\n  if (data.length >= maxLength) {\n    el.innerText = data.slice(0, maxLength - 3) + '...';\n  } else {\n    el.innerText = data;\n  }\n}\n/**\n * 获取文本在页面上展示的实际的宽度 与 高度\n * @param {String} text\n * @param {String} fontSize\n * @param {String} fontFamily\n * @return {Object} {width, height}\n */\n\nexport function textSize(text) {\n  var fontSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '14px';\n  var fontFamily = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'inherit';\n  var fontWeight = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'normal';\n  var span = document.createElement('span');\n  var result = {};\n  result.width = span.offsetWidth;\n  result.height = span.offsetHeight;\n  span.style.visibility = 'hidden';\n  span.style.fontSize = fontSize;\n  span.style.fontFamily = fontFamily;\n  span.style.fontWeight = fontWeight;\n  span.style.display = 'inline-block';\n\n  if (typeof span.textContent !== 'undefined') {\n    span.textContent = text;\n  } else {\n    span.innerText = text;\n  }\n\n  document.body.appendChild(span);\n  result.width = _parseFloat(window.getComputedStyle(span).width) - result.width;\n  result.height = _parseFloat(window.getComputedStyle(span).height) - result.height;\n  document.body.removeChild(span);\n  return result;\n}",{"version":3,"sources":["D:\\工作项目\\部反诈\\src\\utils\\map3d\\libs\\dom.js"],"names":["isServer","ieVersion","Number","document","documentMode","SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","camelCase","name","replace","_","separator","letter","offset","toUpperCase","trim","string","on","addEventListener","element","event","handler","attachEvent","off","removeEventListener","detachEvent","prevent","e","oEvent","window","preventDefault","wheelEvent","el","callback","navigator","userAgent","toLowerCase","indexOf","wheel","ev","delta","detail","wheelDelta","call","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","setTimeout","scrollTop","from","to","duration","difference","Math","abs","step","ceil","scroll","start","end","d","scrollTo","getImageNaturalSize","img","resolve","reject","naturalWidth","width","height","naturalHeight","image","Image","src","once","fn","listener","apply","arguments","hasClass","cls","Error","classList","contains","className","addClass","curClass","classes","split","i","j","length","clsName","add","removeClass","remove","getTransform","attr","attrs","transform","getStyle","matrix","substring","has","value","forEach","item","index","styleName","filters","opacity","style","currentStyle","computed","defaultView","getComputedStyle","setStyle","prop","hasOwnProperty","filter","isNaN","setStyles","styles","getData","val","prefix","setAttribute","getAttribute","getRect","SVGElement","rect","getBoundingClientRect","top","left","offsetTop","offsetLeft","offsetWidth","offsetHeight","elementStyle","createElement","vendor","transformNames","webkit","Moz","O","ms","standard","k","undefined","prefixStyle","charAt","substr","getElementLeft","actualLeft","current","offsetParent","getElementTop","actualTop","overflowEllipsis","row","clientWidth","clientHeight","lineHeight","fontSize","data","innerText","maxLength","slice","textSize","text","fontFamily","fontWeight","span","result","visibility","display","textContent","body","appendChild","removeChild"],"mappings":"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","sourcesContent":["/* eslint-disable */\nconst isServer = false\nconst ieVersion = isServer ? 0 : Number(document.documentMode)\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/\n\n/* istanbul ignore next */\nconst camelCase = function(name) {\n  return name\n    .replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\n      return offset ? letter.toUpperCase() : letter\n    })\n    .replace(MOZ_HACK_REGEXP, 'Moz$1')\n}\n\n// 剔除空格\nconst trim = function(string) {\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\n}\n\n// 使dom绑定事件 兼容主流浏览器\nexport const on = (function() {\n  if (!isServer && document.addEventListener) {\n    return function(element, event, handler) {\n      if (element && event && handler) {\n        element.addEventListener(event, handler, false)\n      }\n    }\n  } else {\n    return function(element, event, handler) {\n      if (element && event && handler) {\n        element.attachEvent('on' + event, handler)\n      }\n    }\n  }\n})()\n\n// 使dom删除事件 兼容主流浏览器\n/* istanbul ignore next */\nexport const off = (function() {\n  if (!isServer && document.removeEventListener) {\n    return function(element, event, handler) {\n      if (element && event) {\n        element.removeEventListener(event, handler, false)\n      }\n    }\n  } else {\n    return function(element, event, handler) {\n      if (element && event) {\n        element.detachEvent('on' + event, handler)\n      }\n    }\n  }\n})()\n\nexport function prevent(e) {\n  const oEvent = e || window.event\n  if (oEvent.preventDefault) {\n    oEvent.preventDefault()\n  }\n  return oEvent\n}\n\n// 使鼠标滚轮事件 兼容主流浏览器\nexport function wheelEvent(el, callback) {\n  if (window.navigator.userAgent.toLowerCase().indexOf('firefox') !== -1) {\n    on(el, 'DOMMouseScroll', wheel)\n  } else {\n    on(el, 'mousewheel', wheel)\n  }\n\n  function wheel(ev) {\n    const oEvent = prevent(ev)\n    const delta = oEvent.detail ? oEvent.detail > 0 : oEvent.wheelDelta < 0\n    callback && callback.call(this, delta, oEvent)\n    return false\n  }\n}\n\n/**\n * 使requestAnimationFrame 兼容主流浏览器\n */\nexport const requestAnimationFrame = (function() {\n  if (!window.requestAnimationFrame) {\n    return (\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function(callback) {\n        return window.setTimeout(callback, 1000 / 60)\n      }\n    )\n  }\n  return window.requestAnimationFrame\n})()\n\n// 返回顶部\nexport function scrollTop(el, from = 0, to, duration = 500) {\n  const difference = Math.abs(from - to)\n  const step = Math.ceil((difference / duration) * 50)\n  scroll(el, from, to, step)\n}\n/**\n * [scroll 滚动条从start滚动到end]\n * @param  {[type]} el    [要滚动元素]\n * @param  {[type]} start [开始位置]\n * @param  {[type]} end   [结束位置]\n * @param  {[type]} step  [滚动的步长]\n * @return {[type]}       [description]\n */\nexport function scroll(el, start, end, step = 50) {\n  if (start === end) return\n\n  // 从上往下滚\n  let d = start + step > end ? end : start + step\n  // 从下往上滚\n  if (start > end) {\n    d = start - step < end ? end : start - step\n  }\n\n  if (el === window) {\n    window.scrollTo(d, d)\n  } else {\n    el.scrollTop = d\n  }\n  requestAnimationFrame(() => scroll(el, d, end, step))\n}\n\n/**\n * [getImageNaturalSize 获取图片的真实高度]\n * @param  {[type]} img [图片dom元素]\n * @return {[type]}     [description]\n */\nexport function getImageNaturalSize(img) {\n  return new Promise((resolve, reject) => {\n    if (img.naturalWidth) {\n      resolve({\n        width: img.naturalWidth,\n        height: img.naturalHeight\n      })\n    } else {\n      const image = new Image()\n      image.src = img.src\n      on(image, 'load', _ => {\n        resolve({\n          width: image.width,\n          height: image.height\n        })\n      })\n    }\n  })\n}\n\n// 绑定dom事件，只执行一次\nexport const once = function(el, event, fn) {\n  const listener = function() {\n    if (fn) {\n      fn.apply(this, arguments)\n    }\n    off(el, event, listener)\n  }\n  on(el, event, listener)\n}\n\n/**\n * el是包含cls\n * @param {dom} el dom元素\n * @param {*} cls class名\n * @return {boolean}\n */\nexport function hasClass(el, cls) {\n  if (!el || !cls) return false\n  if (cls.indexOf(' ') !== -1)\n    throw new Error('className should not contain space.')\n  if (el.classList) {\n    return el.classList.contains(cls)\n  } else {\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\n  }\n}\n\n/**\n * el元素添加class\n * @param {dom} el dom元素\n * @param {*} cls class名\n */\nexport function addClass(el, cls) {\n  if (!el) return\n  let curClass = el.className\n  const classes = (cls || '').split(' ')\n\n  for (let i = 0, j = classes.length; i < j; i++) {\n    const clsName = classes[i]\n    if (!clsName) continue\n\n    if (el.classList) {\n      el.classList.add(clsName)\n    } else if (!hasClass(el, clsName)) {\n      curClass += ' ' + clsName\n    }\n  }\n  if (!el.classList) {\n    el.className = curClass\n  }\n}\n\n/* istanbul ignore next */\nexport function removeClass(el, cls) {\n  if (!el || !cls) return\n  const classes = cls.split(' ')\n  let curClass = ' ' + el.className + ' '\n\n  for (let i = 0, j = classes.length; i < j; i++) {\n    const clsName = classes[i]\n    if (!clsName) continue\n\n    if (el.classList) {\n      el.classList.remove(clsName)\n    } else if (hasClass(el, clsName)) {\n      curClass = curClass.replace(' ' + clsName + ' ', ' ')\n    }\n  }\n  if (!el.classList) {\n    el.className = trim(curClass)\n  }\n}\n\n/**\n * el dom 元素\n * attr: translateX translateY rsx rsy scaleX scaleY\n */\nexport function getTransform(el, attr) {\n  const attrs = ['scaleX', 'rsx', 'rsy', 'scaleY', 'translateX', 'translateY']\n  // const transform = el.style.transform.replace(/\\s/g, '')\n  const transform = getStyle(el, 'transform').replace(/\\s/g, '')\n  const matrix = transform.substring(7, transform.indexOf(')')).split(',')\n  // console.log(transform, matrix)\n  let has = false\n  let value = 0\n  attrs.forEach((item, index) => {\n    if (!has) {\n      if (item === attr) {\n        has = true\n        value = parseFloat(matrix[index]) || 0\n      }\n    }\n  })\n  return value\n}\n\n/**\n * 获取css样式\n * @param {dom} element dom元素\n * @param {*} styleName css属性，驼峰命名\n * @return {string|null} 属性值\n */\nexport const getStyle =\n  ieVersion < 9\n    ? function(element, styleName) {\n        if (isServer) return\n        if (!element || !styleName) return null\n        styleName = camelCase(styleName)\n        if (styleName === 'float') {\n          styleName = 'styleFloat'\n        }\n        try {\n          switch (styleName) {\n            case 'opacity':\n              try {\n                return element.filters.item('alpha').opacity / 100\n              } catch (e) {\n                return 1.0\n              }\n            default:\n              return element.style[styleName] || element.currentStyle\n                ? element.currentStyle[styleName]\n                : null\n          }\n        } catch (e) {\n          return element.style[styleName]\n        }\n      }\n    : function(element, styleName) {\n        if (isServer) return\n        if (!element || !styleName) return null\n        styleName = camelCase(styleName)\n        if (styleName === 'float') {\n          styleName = 'cssFloat'\n        }\n        try {\n          const computed = document.defaultView.getComputedStyle(element, '')\n          return element.style[styleName] || computed\n            ? computed[styleName]\n            : null\n        } catch (e) {\n          return element.style[styleName]\n        }\n      }\n\n/**\n * 设置css样式\n * @param {dom} element dom元素\n * @param {string} styleName css属性，驼峰命名\n * @param {*} value css属性的值\n * @return {void}\n */\nexport function setStyle(element, styleName, value) {\n  if (!element || !styleName) return\n\n  if (typeof styleName === 'object') {\n    for (const prop in styleName) {\n      if (styleName.hasOwnProperty(prop)) {\n        setStyle(element, prop, styleName[prop])\n      }\n    }\n  } else {\n    styleName = camelCase(styleName)\n    if (styleName === 'opacity' && ieVersion < 9) {\n      element.style.filter = isNaN(value)\n        ? ''\n        : 'alpha(opacity=' + value * 100 + ')'\n    } else {\n      element.style[styleName] = value\n    }\n  }\n}\n\n/**\n * 设置css样式\n * @param {dom} element dom元素\n * @param {styles} 样式对象，attr为驼峰命名\n */\nexport function setStyles(element, styles) {\n  Object.keys(styles).forEach(attr => {\n    setStyle(element, attr, styles[attr])\n  })\n}\n\n/**\n * 获取dom元素data属性的数据，如果有val,则设置data-[name]的属性为val\n * @param {dom} el dom元素\n * @param {string} name data-[name]\n * @param {string|void} val 设置data-[name] 的值\n * @return {string|void}\n */\nexport function getData(el, name, val) {\n  const prefix = 'data-'\n  if (val) {\n    return el.setAttribute(prefix + name, val)\n  }\n  return el.getAttribute(prefix + name)\n}\n\n/**\n * 获取元素距离父元素上、下、左、右的距离\n * @param {dom} el dom元素\n * @return {object} {top, left, bottom, right}\n */\nexport function getRect(el) {\n  if (el instanceof window.SVGElement) {\n    const rect = el.getBoundingClientRect()\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    }\n  } else {\n    return {\n      top: el.offsetTop,\n      left: el.offsetLeft,\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    }\n  }\n}\n\nconst elementStyle = document.createElement('div').style\n\nconst vendor = (_ => {\n  const transformNames = {\n    webkit: 'webkitTransform',\n    Moz: 'MozTransform',\n    O: 'OTransform',\n    ms: 'msTransform',\n    standard: 'transform'\n  }\n  for (const k in transformNames) {\n    if (elementStyle[transformNames[k]] !== undefined) {\n      return k\n    }\n  }\n  return false\n})()\n\nexport function prefixStyle(style) {\n  if (vendor === false) return false\n  if (vendor === 'standard') return style\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1)\n}\n\nexport function getElementLeft(element) {\n  if (element.getBoundingClientRect) {\n    return element.getBoundingClientRect().left\n  }\n  let actualLeft = element.offsetLeft\n  let current = element.offsetParent\n  while (current !== null) {\n    actualLeft += current.offsetLeft\n    current = current.offsetParent\n  }\n  return actualLeft\n}\nexport function getElementTop(element) {\n  if (element.getBoundingClientRect) {\n    return element.getBoundingClientRect().top\n  }\n  let actualTop = element.offsetTop\n  let current = element.offsetParent\n  while (current !== null) {\n    actualTop += current.offsetTop\n    current = current.offsetParent\n  }\n  return actualTop\n}\n\n/**\n * 多行超出元素高度显示 ..., 且添加title显示全部内容\n * @param {dom} el 处理的dom元素\n * @param {number|void} row 最多行数\n */\nexport function overflowEllipsis(el, row) {\n  const width = el.clientWidth\n  const height = el.clientHeight\n  const lineHeight = parseInt(getStyle(el, 'lineHeight'))\n  const fontSize = parseInt(getStyle(el, 'fontSize'))\n  let data = el.getAttribute('title')\n  if (!data) {\n    data = el.innerText\n    el.setAttribute('title', data)\n  }\n  row = row || height / lineHeight\n  const maxLength = ~~((width * row) / fontSize)\n  if (data.length >= maxLength) {\n    el.innerText = data.slice(0, maxLength - 3) + '...'\n  } else {\n    el.innerText = data\n  }\n}\n\n/**\n * 获取文本在页面上展示的实际的宽度 与 高度\n * @param {String} text\n * @param {String} fontSize\n * @param {String} fontFamily\n * @return {Object} {width, height}\n */\nexport function textSize(text, fontSize = '14px', fontFamily = 'inherit', fontWeight = 'normal') {\n  const span = document.createElement('span')\n  const result = {}\n  result.width = span.offsetWidth\n  result.height = span.offsetHeight\n  span.style.visibility = 'hidden'\n  span.style.fontSize = fontSize\n  span.style.fontFamily = fontFamily\n  span.style.fontWeight = fontWeight\n  span.style.display = 'inline-block'\n  if (typeof span.textContent !== 'undefined') {\n    span.textContent = text\n  } else {\n    span.innerText = text\n  }\n  document.body.appendChild(span)\n  result.width = parseFloat(window.getComputedStyle(span).width) - result.width\n  result.height =\n    parseFloat(window.getComputedStyle(span).height) - result.height\n  document.body.removeChild(span)\n  return result\n}\n"]}]}